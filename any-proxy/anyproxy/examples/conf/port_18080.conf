[[_server]]
    #port_11131_to_tcp18080.conf
    #计费域名
    domain = "www.example.cn"
    #回源 回源类型 地址
    proxy_pass = {type = "tcp", address = "127.0.0.1:18080"}
    #是否发送协议头 default false
    is_proxy_protocol_hello = false
    [[listen]]
        #监听类型
        type = "tcp"
        #绑定端口,支持配置多端口[10001-10009,10010,10011,10012,10100-10110]
        address = "0.0.0.0:11131"
    [[listen]]
        #监听类型
        type = "quic"
        #绑定端口,支持配置多端口[10001-10009,10010,10011,10012,10100-10110]
        address = "0.0.0.0:11131"
        #quic协议需要证书和证书对应的域名
        ssl = {key = "./cert/www.example.cn.key.der", cert = "./cert/www.example.cn.cert.der", ssl_domain = "www.example.cn"}

[[_server]]
    #port_11132_to_tcp11131.conf
    domain = "www.example.cn"
    is_proxy_protocol_hello = true
    proxy_pass = {type = "tcp", address = "www.upstream.cn:11131"}
    [[listen]]
        type = "tcp"
        address = "0.0.0.0:11132"
    [[listen]]
        type = "quic"
        address = "0.0.0.0:11132"
        ssl = {key = "./cert/www.example.cn.key.der", cert = "./cert/www.example.cn.cert.der", ssl_domain = "www.example.cn"}

[[_server]]
    #port_11133_to_quic11131.conf
    domain = "www.example.cn"
    is_proxy_protocol_hello = true
    proxy_pass = {type = "quic", ssl_domain= "www.example.cn", address = "www.upstream.cn:11131"}
    [[listen]]
        type = "tcp"
        address = "0.0.0.0:11133"
    [[listen]]
        type = "quic"
        address = "0.0.0.0:11133"
        ssl = {key = "./cert/www.example.cn.key.der", cert = "./cert/www.example.cn.cert.der", ssl_domain = "www.example.cn"}



[[_server]]
    #port_11134_to_tunnel_tcp11131.conf
    domain = "www.example.cn"
    is_proxy_protocol_hello = true
    proxy_pass = {type = "tunnel", tunnel_type = "tcp", tunnel = { max_stream_size = 5, min_stream_cache_size = 50, channel_size = 64}, address = "www.upstream.cn:11131"}
    [[listen]]
        type = "tcp"
        address = "0.0.0.0:11134"
    [[listen]]
        type = "quic"
        address = "0.0.0.0:11134"
        ssl = {key = "./cert/www.example.cn.key.der", cert = "./cert/www.example.cn.cert.der", ssl_domain = "www.example.cn"}

[[_server]]
    #port_11135_to_tunnel_quic11131.conf
    domain = "www.example.cn"
    is_proxy_protocol_hello = true
    proxy_pass = {type = "tunnel", tunnel_type = "quic", tunnel = { max_stream_size = 5, min_stream_cache_size = 50, channel_size = 64}, ssl_domain= "www.example.cn", address = "www.upstream.cn:11131"}
    [[listen]]
        type = "tcp"
        address = "0.0.0.0:11135"
    [[listen]]
        type = "quic"
        address = "0.0.0.0:11135"
        ssl = {key = "./cert/www.example.cn.key.der", cert = "./cert/www.example.cn.cert.der", ssl_domain = "www.example.cn"}


[[_server]]
    #port_11136_to_tunnel2_tcp11131.conf
    domain = "www.example.cn"
    is_proxy_protocol_hello = true
    proxy_pass = {type = "tunnel2", tunnel_type = "tcp", address = "www.upstream.cn:11131"}
    [[listen]]
        type = "tcp"
        address = "0.0.0.0:11136"
    [[listen]]
        type = "quic"
        address = "0.0.0.0:11136"
        ssl = {key = "./cert/www.example.cn.key.der", cert = "./cert/www.example.cn.cert.der", ssl_domain = "www.example.cn"}

[[_server]]
    #port_11137_to_tunnel2_quic11131.conf
    domain = "www.example.cn"
    is_proxy_protocol_hello = true
    proxy_pass = {type = "tunnel2", tunnel_type = "quic", ssl_domain= "www.example.cn", address = "www.upstream.cn:11131"}
    [[listen]]
        type = "tcp"
        address = "0.0.0.0:11137"
    [[listen]]
        type = "quic"
        address = "0.0.0.0:11137"
        ssl = {key = "./cert/www.example.cn.key.der", cert = "./cert/www.example.cn.cert.der", ssl_domain = "www.example.cn"}

#host 127.0.0.1 www.upstream.cn
#host 127.0.0.1 www.example.cn

#curl http://www.example.cn:18080 -v
#curl http://www.example.cn:11131 -v

#curl http://www.example.cn:11132 -v
#curl http://www.example.cn:11133 -v

#curl http://www.example.cn:11134 -v
#curl http://www.example.cn:11135 -v

#curl http://www.example.cn:11136 -v
#curl http://www.example.cn:11137 -v

#curl http://www.example.cn:11133/big_file/CentOS-7-x86_64-DVD-1810.iso --output a